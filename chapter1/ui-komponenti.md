#UI компоненты
##[Обработка UI компонентов](http://devdocs.magento.com/guides/v2.1/ui_comp_guide/concepts/ui_comp_config_flow_concept.html)
Рассмотрим, например, формирование базового UI компонента, form  
Представим, что у нас следующая структура в модуле:  
- xml файл макета страницы модуля: my_page.xml
- конфигурация базового компонент: my_form.xml
- модификаторы php, специфичные для модуля  
При этом в модуле Magento_UI находятся следующие важные файлы:
- Основной, независимый от модуля файл определения: *<Magento_Ui_module_dir>/view/base/ui_component/etc/definition.xml*   
- Шаблон .xhtml по-умолчанию для компонента form, на который ссылается definition.xml: *<Magento_Ui_module_dir>/view/base/ui_component/templates/form/default.xhtml*
- Класс Form, на на который ссылается definition.xml: *<Magento_Ui_module_dir>/view/base/web/js/form/form.js*  
При обработке запроса к my_page сервер выполняет следующее:  
- Определяет, какой ui компонент используется в этом конкретном макете. В нашем случае это определяет my_form.xml
- Ищет xml файлы с именем my_form во всех модулях. 
Затем сервер объединяет все файлы в один конфигурационный объект, переопределяя общие параметры так, что 
последний файл my_form.xml всегда будет иметь высший приоритет/
- Объединяет результат предыдущего шага с конфигурационных файлом UI модуля definition.xml,
который имеет наименьший приоритет и его параметры будт перезаписаны.
- Преобразовывает результирующую конфигурацию в json и добавляет ее в тело ответ следующим образом

```html
<script type="text/x-magento-init">{"*": {"Magento_Ui/js/core/app":{<JSON_configuration>}}}</script>
```

После этого в действие вступает клиент, который обрабатывает json и генерирует экземпляры ui компонентов  
- RequireJS вызывает Magento_Ui/js/core/app и передает json конфигурацию как параметр
- Magento_Ui/js/core/app вызывает layout.js и передает конфигурацию ui компонентов в макет 
<Magento_Ui_module_dir>/view/base/web/js/core/renderer/layout.js
- layout.js создает экземпляры компонентов. Это означает, что каждая конфигурация компонента должна содержать свойство 
*component* в json, которое является сслыкой на js файл. Таким образом создается экземпляр класса и свойства из json
конфигурации перезаписывают свойство *defaults* свойство ui компонента. 
- Далее шаблоны UI компонента ( если они есть) рендерятся движком шаблонов Magento *knockout.js*. Это значит, что bootstrap.js
(требуется для app.js) проводит все шаблоны через Knockout
- *bootstrap.js* привязывает такие компоненты как модель к его представлению 9шаблону) используя Knockout. Полсе этого 
ui компоненты отображаются на странице и полностью интерактивны

